<div class="p-4 bg-gray-100">
  <h1 class="font-bold text-4xl mb-4"><%= @recipe.name %></h1>
  <div class="flex">
    <div class="flex flex-col w-3/5">
      <h2 class="mb-4">Preparation time: <%= @recipe.preparation_time %> <span class="text-gray-500">minutes</span></h2>
      <h2 class="mb-4">Cooking time: <%= @recipe.cooking_time %> <span class="text-gray-500">minutes</span></h2>
      <p class="mb-4"><%= @recipe.description %></p>
    </div>
    <div class="w-2/5 items-center">
      <%= form_with(model: @recipe, url: recipe_path(@recipe), method: :patch) do |form| %>
        <div class="flex flex-col items-center">
          <%= form.label :public, class: "mb-1 text-sm font-medium text-gray-600" %>
          <%= form.check_box :public, class: "py-2 px-3 border rounded-md focus:outline-none focus:ring focus:border-blue-500", onclick: 'this.form.submit()', checked: @recipe.public %>
        </div>
      <% end %>
    </div>
  </div>
  <div class="flex justify-evenly">
    <button class="py-2 px-4 bg-green-500 text-white rounded-md hover:bg-green-600 focus:outline-none focus:ring focus:border-green-700">
      Generate Shopping List
    </button>

    <%= link_to 'Add Ingredient', new_recipe_recipe_food_path(@recipe), class:'ml-4 py-2 px-4 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring focus:border-blue-700' %>
  </div>
  <table class="min-w-full divide-y divide-gray-200 mt-4">
    <thead>
      <tr>
        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Food</th>
        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Quantity</th>
        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Value</th>
        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
      </tr>
    </thead>
    <tbody>
      <% @recipe.recipe_foods.each do |ingredient|%>
        <tr>
          <td class="py-2 px-4"><%= ingredient.food.name %></td>
          <td class="py-2 px-4"><%= ingredient.quantity %> <%= ingredient.food.measurement_unit %></td>
          <td class="py-2 px-4"><%= number_to_currency(ingredient.food.price * ingredient.quantity) %></td>
          <td class="py-2 px-4">
            <%= button_to "Delete", recipe_recipe_food_path(@recipe, ingredient), method: :delete, form: { data: { turbo_confirm: 'Are you sure?' } }, class: "text-red-500 hover:underline" %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>


